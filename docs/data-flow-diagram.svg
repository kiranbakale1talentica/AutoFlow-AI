<svg width="900" height="700" viewBox="0 0 900 700" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="900" height="700" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1e293b">Data Flow Architecture</text>
  
  <!-- User -->
  <circle cx="100" cy="120" r="40" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="100" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e40af">User</text>
  <text x="100" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e40af">Browser</text>
  
  <!-- React Frontend -->
  <rect x="200" y="80" width="150" height="80" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="275" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e40af">React Frontend</text>
  <text x="275" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1e40af">• Dashboard UI</text>
  <text x="275" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1e40af">• Real-time Updates</text>
  <text x="275" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1e40af">• Material-UI</text>
  
  <!-- API Gateway -->
  <rect x="450" y="80" width="150" height="80" rx="10" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
  <text x="525" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#15803d">Express.js API</text>
  <text x="525" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#15803d">• RESTful Endpoints</text>
  <text x="525" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#15803d">• Authentication</text>
  <text x="525" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#15803d">• Session Management</text>
  
  <!-- GitHub OAuth -->
  <rect x="200" y="220" width="150" height="80" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="275" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">GitHub OAuth</text>
  <text x="275" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">• User Authentication</text>
  <text x="275" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">• Repository Access</text>
  <text x="275" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">• Workflow Data</text>
  
  <!-- GitHub API -->
  <rect x="450" y="220" width="150" height="80" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="525" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">GitHub API</text>
  <text x="525" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">• Workflow Sync</text>
  <text x="525" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">• Build Status</text>
  <text x="525" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">• Webhooks</text>
  
  <!-- Database -->
  <rect x="700" y="80" width="150" height="80" rx="10" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <text x="775" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4f46e5">SQLite Database</text>
  <text x="775" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4f46e5">• Users</text>
  <text x="775" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4f46e5">• Pipelines</text>
  <text x="775" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4f46e5">• Executions</text>
  
  <!-- Email Service -->
  <rect x="700" y="220" width="150" height="80" rx="10" fill="#fce7f3" stroke="#ec4899" stroke-width="2"/>
  <text x="775" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#be185d">SMTP Service</text>
  <text x="775" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#be185d">• Email Notifications</text>
  <text x="775" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#be185d">• OTP Delivery</text>
  <text x="775" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#be185d">• Alert System</text>
  
  <!-- WebSocket Connection -->
  <rect x="325" y="380" width="250" height="60" rx="10" fill="#f3e8ff" stroke="#8b5cf6" stroke-width="2"/>
  <text x="450" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7c3aed">WebSocket Connection</text>
  <text x="450" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#7c3aed">Real-time Pipeline Status Updates</text>
  
  <!-- Data Flow Arrows -->
  
  <!-- User to Frontend -->
  <path d="M140 120 L200 120" stroke="#3b82f6" stroke-width="3" marker-end="url(#bluearrow)"/>
  <text x="160" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#3b82f6">Interaction</text>
  
  <!-- Frontend to API -->
  <path d="M350 120 L450 120" stroke="#16a34a" stroke-width="3" marker-end="url(#greenarrow)"/>
  <text x="400" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#16a34a">HTTP Requests</text>
  
  <!-- API to Database -->
  <path d="M600 120 L700 120" stroke="#6366f1" stroke-width="3" marker-end="url(#purplearrow)"/>
  <text x="650" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6366f1">SQL Queries</text>
  
  <!-- GitHub OAuth Flow -->
  <path d="M275 160 L275 220" stroke="#f59e0b" stroke-width="2" marker-end="url(#yellowarrow)"/>
  <text x="285" y="190" font-family="Arial, sans-serif" font-size="8" fill="#f59e0b">OAuth Flow</text>
  
  <!-- API to GitHub -->
  <path d="M525 160 L525 220" stroke="#f59e0b" stroke-width="2" marker-end="url(#yellowarrow)"/>
  <text x="535" y="190" font-family="Arial, sans-serif" font-size="8" fill="#f59e0b">API Calls</text>
  
  <!-- API to Email -->
  <path d="M600 150 L700 230" stroke="#ec4899" stroke-width="2" marker-end="url(#pinkarrow)"/>
  <text x="630" y="180" font-family="Arial, sans-serif" font-size="8" fill="#ec4899">Send Emails</text>
  
  <!-- WebSocket bidirectional -->
  <path d="M275 160 L400 380" stroke="#8b5cf6" stroke-width="3" marker-end="url(#purplearrow)" stroke-dasharray="5,5"/>
  <path d="M525 160 L500 380" stroke="#8b5cf6" stroke-width="3" marker-end="url(#purplearrow)" stroke-dasharray="5,5"/>
  
  <!-- GitHub Webhooks -->
  <path d="M450 260 L350 260 L350 350 L425 380" stroke="#f59e0b" stroke-width="2" marker-end="url(#yellowarrow)" stroke-dasharray="3,3"/>
  <text x="380" y="275" font-family="Arial, sans-serif" font-size="8" fill="#f59e0b">Webhooks</text>
  
  <!-- Data Flow Descriptions -->
  <rect x="50" y="500" width="800" height="180" rx="10" fill="#ffffff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="70" y="525" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e293b">Data Flow Sequence</text>
  
  <text x="70" y="550" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0f172a">1. Authentication Flow:</text>
  <text x="90" y="565" font-family="Arial, sans-serif" font-size="10" fill="#475569">• User clicks GitHub login → Frontend redirects to GitHub OAuth → GitHub authenticates → Callback to API → Session created</text>
  
  <text x="70" y="585" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0f172a">2. Pipeline Management:</text>
  <text x="90" y="600" font-family="Arial, sans-serif" font-size="10" fill="#475569">• Frontend requests pipelines → API queries database → Returns pipeline data → GitHub API sync → Real-time updates via WebSocket</text>
  
  <text x="70" y="620" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0f172a">3. Real-time Updates:</text>
  <text x="90" y="635" font-family="Arial, sans-serif" font-size="10" fill="#475569">• GitHub webhooks → API processes → Database update → WebSocket broadcast → Frontend receives → UI updates instantly</text>
  
  <text x="70" y="655" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0f172a">4. Notifications:</text>
  <text x="90" y="670" font-family="Arial, sans-serif" font-size="10" fill="#475569">• Pipeline event triggers → API checks alert rules → SMTP service sends email → User receives notification</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="bluearrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/>
    </marker>
    <marker id="greenarrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#16a34a"/>
    </marker>
    <marker id="purplearrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
    <marker id="yellowarrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
    </marker>
    <marker id="pinkarrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ec4899"/>
    </marker>
  </defs>
</svg>
